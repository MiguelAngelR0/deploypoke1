"use strict";(self.webpackChunkpokeProyec=self.webpackChunkpokeProyec||[]).push([[915],{4915:(H,l,s)=>{s.r(l),s.d(l,{HomeModule:()=>Z});var m=s(266),c=s(7392),a=s(6895),e=s(4650),p=s(1997),u=s(4859);function g(t,i){1&t&&e.GkF(0)}function d(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"li",7),e._UZ(1,"img",8),e._uU(2),e.TgZ(3,"button",9),e.NdJ("click",function(){const C=e.CHM(o).$implicit,k=e.oxw();return e.KtG(k.toggleFavorite(C))}),e.TgZ(4,"mat-icon"),e._uU(5,"star"),e.qZA()()()}if(2&t){const o=i.$implicit;e.xp6(1),e.s9C("src",o.pic,e.LSH),e.xp6(1),e.AsE(" ",o.name," ",o.id," ")}}function h(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"No tienes pokemons Favoritos"),e.qZA())}let f=(()=>{class t{constructor(o){this.authService=o,this.pokemons=[]}ngOnInit(){const o=sessionStorage.getItem("user");this.user=JSON.parse(o??""),console.log("hay usuario",this.user),this.user&&this.authService.getPokeFav(this.user.id).subscribe(n=>{console.log("Esto es lo que me llega de la respuesta getPokeFav"),this.pokemonsFav=n,sessionStorage.setItem("pokemonsFav",JSON.stringify(this.pokemonsFav))},n=>{console.error("Ha habido un error al hacer la respuesta de getPokeFav:",JSON.stringify(n,null,2))})}toggleFavorite(o){console.log(o),this.user&&this.authService.deletePokeFav(o.id,o.name,o.pic,this.user.id).subscribe(n=>{console.log("borrado de favoritos"+n),this.pokemonsFav=this.pokemonsFav.filter(r=>r.id!==o.id)},n=>{console.log("NO esta borrado"+n)})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(p.f))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-home"]],decls:16,vars:6,consts:[[1,"container"],[1,"row","mt-5"],[1,"col"],[4,"ngIf","ngIfElse"],["color","primary"],["class","pokeFav mt-3 d-flex justify-content-around align-items-center",4,"ngFor","ngForOf"],["templateName",""],[1,"pokeFav","mt-3","d-flex","justify-content-around","align-items-center"],["alt","",3,"src"],["mat-icon-button","",3,"click"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),e._uU(4),e.qZA()(),e.TgZ(5,"h1"),e._uU(6),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.qZA(),e.TgZ(9,"h3"),e._uU(10,"lista pokemons favoritos"),e.qZA(),e.YNc(11,g,1,0,"ng-container",3),e.TgZ(12,"ul",4),e.YNc(13,d,6,3,"li",5),e.qZA(),e.YNc(14,h,2,0,"ng-template",null,6,e.W1O),e.qZA()()),2&o){const r=e.MAs(15);e.xp6(4),e.hij("Bienvenido: ",null==n.user?null:n.user.name,""),e.xp6(2),e.hij("puntosExp: ",null==n.user?null:n.user.puntosExp,""),e.xp6(2),e.hij("Fecha de creacion de la cuenta ",null==n.user?null:n.user.createDate,""),e.xp6(3),e.Q6J("ngIf",n.pokemonsFav)("ngIfElse",r),e.xp6(2),e.Q6J("ngForOf",n.pokemonsFav)}},dependencies:[a.sg,a.O5,c.Hw,u.RK],styles:[".container[_ngcontent-%COMP%]{height:100vh}.pokeFav[_ngcontent-%COMP%]{background-color:#b25dbd;border-radius:3em}"]}),t})();var v=s(9299);const F=[{path:"",component:f}];let Z=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[a.ez,v.Bz.forChild(F),c.Ps,m.AV,u.ot]}),t})()}}]);